<section class="home-container">
  <h1>ğŸ¬ CatÃ¡logo de Filmes</h1>
  <p>Explore filmes, filtre por gÃªnero, marque favoritos e leia avaliaÃ§Ãµes de outros usuÃ¡rios.</p>

  <div class="search-filter">
    <input
      type="text"
      placeholder="Buscar por tÃ­tulo..."
      [value]="searchTerm"
      (input)="onSearchInput($event)"
    />

    <select
      [(ngModel)]="selectedGenero"
      (change)="onGeneroChange($event)"
    >
      <option value="">Todos os GÃªneros</option>
      <option *ngFor="let genero of generos" [value]="genero">{{ genero }}</option>
    </select>
  </div>

  <div *ngIf="filmes$ | async as filmes">
    <div class="movies-grid">
      <a
        *ngFor="let filme of filmes; trackBy: trackById"
        (click)="navigateToMovie(filme.id)"
        class="movie-card"
        style="cursor: pointer;"
      >
        <img [src]="filme.imagemUrl" alt="{{ filme.titulo }}" class="movie-image" />
        <div class="movie-info">
          <h2>{{ filme.titulo }}</h2>
          <p><strong>GÃªnero:</strong> {{ filme.genero }}</p>
          <p><strong>Ano:</strong> {{ filme.anoLancamento }}</p>
          <p><strong>Nota:</strong> {{ filme.notaMedia }} â­</p>
        </div>
      </a>
    </div>

    <div *ngIf="!filmes.length" class="sem-filmes">
      Nenhum filme encontrado.
    </div>

    <div class="pagination">
      <button (click)="prevPage()" [disabled]="currentPage === 1">Anterior</button>
      <span>PÃ¡gina {{ currentPage }}</span>
      <button
        (click)="nextPage()"
        [disabled]="filmes.length < itemsPerPage"
      >PrÃ³xima</button>
    </div>
  </div>
</section>
